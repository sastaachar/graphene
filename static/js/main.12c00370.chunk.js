(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,n,t){},30:function(e,n,t){},31:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){"use strict";t.r(n);var o=t(0),c=t.n(o),a=t(6),r=t.n(a),d=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,36)).then((function(n){var t=n.getCLS,o=n.getFID,c=n.getFCP,a=n.getLCP,r=n.getTTFB;t(e),o(e),c(e),a(e),r(e)}))},i=t(9),s=t(8),u=t(35),l="ADD_NODE",j="ADD_PATH",p=(t(28),t(1)),h=function(e){var n={left:e.gnode.pos.x,top:e.gnode.pos.y,backgroundColor:e.gnode.visited?"green":"red"};return Object(p.jsx)("div",{className:"gnode",style:n,onClick:function(){return e.onNodeSelect(e.gnode)},children:Object(p.jsx)("span",{className:"gnode-content",children:e.gnode.data})})},b=function(e){return Object(p.jsx)("svg",{width:"100%",height:"100%",children:Object(p.jsx)("line",{x1:e.path.sourcePos.x+50,y1:e.path.sourcePos.y+50,x2:e.path.destinationPos.x+50,y2:e.path.destinationPos.y+50,style:{stroke:"rgb(255,0,0)",strokeWidth:"2"}})})},g=(t(30),{addGnode:function(e){return{type:l,payload:{gnode:e}}},addPath:function(e){return{type:j,payload:{path:e}}}}),f=Object(s.b)((function(e){return{nodeManager:e.NodeManager}}),g)((function(e){var n=Object(o.useState)(""),t=Object(i.a)(n,2),c=t[0],a=t[1],r=Object(o.useState)(0),d=Object(i.a)(r,2),s=d[0],l=d[1],j=Object(o.useRef)(null),g=Object(o.useState)(null),f=Object(i.a)(g,2),v=f[0],O=f[1],x=function(n){if(1==s)if(v){e.nodeManager.graph.nodes[v.id].connections.forEach((function(e){e.nodeID!==n.id||O(null)}));var t,o,c=(t=v,o=n,{id:Object(u.a)(),sourceId:t.id,destinationId:o.id,sourcePos:t.pos,destinationPos:o.pos});e.addPath(c),O(null)}else O(n)};return Object(p.jsxs)("div",{className:"nodemanager",children:[Object(p.jsxs)("div",{className:"panel",children:[Object(p.jsx)("input",{type:"text",value:c,onChange:function(e){return a(e.target.value)}}),Object(p.jsx)("button",{onClick:function(){return l(0)},children:"create node"}),Object(p.jsx)("button",{onClick:function(){return l(1)},children:"create path"})]}),Object(p.jsxs)("div",{className:"board",onClick:function(n){var t,o;if(0==s&&c){var a,r,d,i,l,p,h,b,g=parseInt(c);if(!g)return;var f=(t=g,o={x:n.pageX-(null!==(a=null===(r=j.current)||void 0===r?void 0:r.offsetLeft)&&void 0!==a?a:0)-50+(null!==(d=null===(i=j.current)||void 0===i?void 0:i.scrollLeft)&&void 0!==d?d:0),y:n.pageY-(null!==(l=null===(p=j.current)||void 0===p?void 0:p.offsetTop)&&void 0!==l?l:0)-50+(null!==(h=null===(b=j.current)||void 0===b?void 0:b.scrollTop)&&void 0!==h?h:0)},{id:Object(u.a)(),data:t,visited:!1,connections:[],pos:o});e.addGnode(f)}},ref:j,children:[Object.values(e.nodeManager.graph.nodes).map((function(e){return Object(p.jsx)(h,{gnode:e,onNodeSelect:x},e.id)})),Object.values(e.nodeManager.graph.paths).map((function(e){return Object(p.jsx)(b,{path:e},e.id)}))]})]})})),v=(t(31),function(){return Object(p.jsx)(f,{})}),O=t(2),x=t(15),y=t(16),I=t(5),m=t(3),P={graph:{nodes:{},paths:{}}},D=Object(O.combineReducers)({NodeManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,n=arguments.length>1?arguments[1]:void 0,t=Object(m.a)({},e);switch(n.type){case l:var o=n.payload.gnode;return t.graph.nodes=Object(m.a)(Object(m.a)({},t.graph.nodes),{},Object(I.a)({},o.id,o)),t;case j:var c=n.payload.path;t.graph.paths=Object(m.a)(Object(m.a)({},t.graph.paths),{},Object(I.a)({},c.id,c));var a=t.graph.nodes[c.sourceId].connections;return t.graph.nodes[c.sourceId].connections=[].concat(Object(y.a)(a),[{nodeID:c.destinationId,pathID:c.id}]),t.graph.nodes[c.sourceId].visited=!0,t.graph.nodes[c.destinationId].visited=!0,console.log(t),t;default:return e}}}),N=Object(O.createStore)(D,Object(x.composeWithDevTools)());t(32),t(33);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{store:N,children:Object(p.jsx)(v,{})})}),document.getElementById("root")),d(console.log)}},[[34,1,2]]]);
//# sourceMappingURL=main.12c00370.chunk.js.map